<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Example Update Refresh Options</title>
    <link href="../../vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../vendor/twbs/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet">


</head>
<body class="container py-5">
<select id="select1">
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
    <option value="3">Option 3</option>
    <option value="4">Option 4</option>
</select>
<hr>
<select id="select2">
</select>
<script src="../../vendor/components/jquery/jquery.min.js"></script>
<script src="../../vendor/twbs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../dist/jquery.bs-select.js"></script>
<script>
    (function ($) {
        $.bsSelect.setDefaults({
            btnWidth: '300px',
            dropUpCenter: true,
            btnClass: 'btn-outline-primary',
            showSubtext: true,
        });
        const optionsSelect2 = {
            1: [{
                value: 1,
                title: 'Option 1/1'
            }, {
                value: 2,
                title: 'Option 1/2'
            }, {
                value: 3,
                title: 'Option 1/3'
            }, {
                value: 4,
                title: 'Option 1/4'
            }],
            2: [{
                value: 1,
                title: 'Option 2/1'
            }, {
                value: 2,
                title: 'Option 2/2'
            }, {
                value: 3,
                title: 'Option 2/3'
            }, {
                value: 4,
                title: 'Option 2/4'
            }],
            3: [{
                value: 1,
                title: 'Option 3/1'
            }, {
                value: 2,
                title: 'Option 3/2'
            }, {
                value: 3,
                title: 'Option 3/3'
            }, {
                value: 4,
                title: 'Option 4/4'
            }],
            4: [{
                value: 1,
                title: 'Option 4/1'
            }, {
                value: 2,
                title: 'Option 4/2'
            }, {
                value: 3,
                title: 'Option 4/3'
            }, {
                value: 4,
                title: 'Option 4/4'
            }]
        }
        const select1 = $('#select1').bsSelect();
        const select2 = $('#select2').bsSelect();

        select1.on('change.bs.select', function(e){
            const options = optionsSelect2[select1.val()];
            select2.empty();
            options.forEach(o => {
                $('<option>', {
                    value: o.value,
                    text: o.title
                }).appendTo(select2);
            });
            select2.bsSelect('refresh');
            select2.bsSelect('val',1);
        })
        $('body').animate({opacity: 1}, 0);


    }(jQuery));
</script>
</body>
</html>
